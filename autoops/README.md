linux平台自动化部署的脚本，主要用于web集群架构nginx+keepalived

脚本编写要点：
1，mvn编译是否通过，否则exit 1退出
2，通过后将代码提交到sonar进行静态代码测试
3，接着运行junit测试，形成测试报表，通过插件自动生成测试代码
4，对target目录下面的更目录进行打包并计算md5值，并上传到console服务器上，供服务器上脚本调用，此时控制权由jenkins转交给服务器上的脚本。
5，发布脚本对比md5值，如果符合就开始部署，否则退出
6，连接nginx负载均衡服务器将待部署设备移除集群，标记为down，然后重启nginx，并进行测试是否成功，方法可以采取变更nginx.conf（多个）配置文件的方法，然后reload
7，列举待部署服务器上的目录，记录上一个版本目录名称，并将将版本名称写入到version文件中，方便回滚
8，删除软连接，并以当前时间戳创建新目录，将代码解压到此目录，创建新软链接
9，重启jetty，输出重启log日志
10，判断是否重启成功，通过curl访问来判断，如果有问题则发送邮件
11，将机器加入集群（也可以在测试人员测试完后加入）
